# Justfile Script Tools Reference

## Utility Tools

### Data Management
```
# Generate test data
AlloyStack$ just gen_data

# Initialize environment
AlloyStack$ just init
```

## Build Commands

### System Services
```
# Build all LibOS modules
AlloyStack$ just all_libos

# Build specific LibOS module
AlloyStack$ just libos <module_name>  # e.g., just libos stdio
```

### User Functions
```
# Build Rust user function
AlloyStack$ just rust_func <function_name>  # e.g., just rust_func mapper

# Build WASM user function
AlloyStack$ just wasm_func <function_name>  # e.g., just wasm_func wasmtime_mapper
```

### Workflow-Specific Builds
```
# Build MapReduce components
AlloyStack$ just map_reduce

# Build Parallel Sort components
AlloyStack$ just parallel_sort

# Build Long Chain components
AlloyStack$ just long_chain

# Build Simple File components
AlloyStack$ just simple_file
```

## Test Execution Tools
### Performance Tests
```
# Run cold start latency tests
AlloyStack$ just cold_start_latency

# Run data transfer latency tests
AlloyStack$ just data_transfer_latency

# Run end-to-end latency tests
AlloyStack$ just end_to_end_latency

# Run breakdown analysis
AlloyStack$ just breakdown

# Run P99 latency tests
AlloyStack$ just p99

# Measure resource consumption
AlloyStack$ just resource_consume
```

### WASM Application Tests

```
# Test C WASM applications
AlloyStack$ just c_end_to_end_latency

# Test Python WASM applications
AlloyStack$ just py_end_to_end_latency
```

## Workflow-Specific Scripts

### C Applications
```
# Build and test C wordcount
AlloyStack$ just c_wordcount

# Build and test C parallel sort
AlloyStack$ just c_parallel_sort

# Build and test C long chain
AlloyStack$ just c_long_chain
```

### Python Applications
```
# Build and test Python wordcount
AlloyStack$ just python_wordcount

# Build and test Python parallel sort
AlloyStack$ just python_parallel_sort

# Build and test Python long chain
AlloyStack$ just python_long_chain
```

## Comprehensive Build Scripts
```
# Build all Rust components
AlloyStack$ just all_rust

# Build all C WASM applications
AlloyStack$ just all_c_wasm

# Build all Python WASM applications
AlloyStack$ just all_py_wasm

# Build all WASM applications
AlloyStack$ just all_wasm

# Build and run all Rust tests
AlloyStack$ just run_rust_test
```
## Environment Configuration
### Build Flags

`enable_mpk` : Enable Memory Protection Keys

`enable_pkey_per_func` : Enable per-function protection keys

`enable_file_buffer` : Enable file-based buffering

`enable_release` : Build in release mode

# Helper Scripts
These scripts are included in [AlloyStack/scripts](../scripts/) directory.

`build_all_common.sh`	: Build common LibOS modules

`build_all_common_mpk.sh`	: Build LibOS modules with MPK

`build_user.sh`	: Build all user functions

`run_tests.sh`	: Run test suite

`gen_data.py`	: Generate test datasets

`clean_all.sh`  : Delete files generated by compilation